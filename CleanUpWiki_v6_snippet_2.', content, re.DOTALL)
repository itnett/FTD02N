updated_content = content

                    for idx, (lang, code) in enumerate(code_blocks):
                        code_filename = sanitize_filename(f"{os.path.splitext(file)[0]}_snippet_{idx+1}.{lang}")
                        code_filepath = os.path.join(code_repo_dir, code_filename)

                        with open(code_filepath, 'w', encoding='utf-8') as code_file:
                            code_file.write(code.strip())

                        github_link = f"[{code_filename}]({code_repo_url}/blob/main/{code_filename})"
                        updated_content = updated_content.replace(f"